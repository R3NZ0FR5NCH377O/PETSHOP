<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../index.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Carrito de compras</title>
</head>

<body class="bg-gray-200">
  <div id="app" class="flex flex-col h-screen w-full">
    <div id="app">
      <header
        class="gradient w-full bg-azulOscuro  flex  items-center px-4 justify-between place-content-center md:flex-row w-full lg:flex-row w-[100%] p-4 sticky top-0 z-10">
        <div class="flex h-14 align-center gap-4 items-center">
          <img src="../Images/Paw.png" alt="" class="flex h-12">
          <img src="../Images/OnlyPaws.png" alt="" class="flex h-6">
        </div>
        <div id="menuHamburguesa">
          <img src="../Images/menuHamb.png" alt="" class="flex w-8 md:hidden lg:hidden" v-on:click="abrirModalHamb()">
        </div>
        <nav
          class="text-white hidden relative text-center items-center md:flex  gap-2 lg:flex  gap-4 text-xl p-2 font-semibold ">
          <a href="#" class="border-b-2">Home</a>
          <a href="#" class="hover:border-b-2">Contacto</a>
          <a href="#" class="hover:border-b-2">Jugueteria</a>
          <a href="#" class="hover:border-b-2">Farmacia</a>
          <a href="#" class="h-8 items-center flex justify-center w-8 bg-black/20 p-2 rounded-[10rem] relative"> <img
              src="../Images/Cart.png" alt="" class="object-cover h-4 absolute top-50 rigth-50"></a>
        </nav>
      </header>
      <div v-if="modalHVisible" class="gradient w-[50%] h-[40%] z-10 bg-azulClaro fixed top-0 right-0 rounded-xl">
        <nav class="text-white text-lg flex flex-col text-center items-center gap-4 py-6">
          <a href="#" class="border-b-2">Home</a>
          <a href="#" class="">Contacto</a>
          <a href="#" class="">Jugueteria</a>
          <a href="#" class="">Farmacia</a>
          <a href="#" class="h-10 w-10 items-center flex justify-center w-10 bg-black/20 p-2 rounded-[10rem] relative">
            <img src="../Images/Cart.png" alt="" class="object-cover h-4 absolute top-50 rigth-50"></a>
        </nav>
        <img src="../Images/hambClose.png" alt="" class="w-6 absolute top-2 left-2" v-on:click="cerrarModalHamb()">

      </div>
      <main class="flex flex-wrap  justify-center ">

        <section class="w-3/5 flex flex-col justify-center h-full ">
          <div>
            <h2 class="text-azulOscuro text-4xl font-semibold text-center py-20 self-star ">Editar Compra</h2>
            <div class="flex justify-center gap-10 pb-10">
              <h1 class="flex items-center gap-2 text-xl">  Jugueteria <div class="flex w-4 h-4 bg-violet-900 rounded-2xl"> </div> </h1>

              <h1 class="flex items-center gap-2 text-xl">  Farmacia <div class="flex w-4 h-4 bg-green-600 rounded-2xl"> </div> </h1>
            </div>
          </div>
          <div>
            <template v-if="localStorageFiltrado.length > 0" v-for="articulo in localStorageFiltrado">
              <div v-if="articulo.cantidadEnCarrito > 0"
                class="flex gap-2  bg-white shadow-xl rounded-lg  m-2 w-[90%] justify-around">
                <div v-if="articulo.categoria == 'jugueteria'" class="w-4  bg-green-600 rounded-sm "></div>
                <div v-else class="w-4  bg-violet-900 rounded-sm "></div>
                <div class="w-full ">

                  <article
                    class="flex flex-col text-center items-center gap-8  md:flex-row  justify-between items-center">
                    <picture class="flex">
                      <img :src="articulo.imagen" :alt="articulo.titulo" class="m-auto h-24 flex object-contain md:m-0">
                    </picture>


                    <div class="flex justify-around flex-col gap-2 ">
                      <h3 class="text-center font-bold">{{articulo.producto}}</h3>
                      <div class="flex gap-2">
                        <div>
                          <button><img src="../home/Images/minus.png" alt="minus_article" class="w-12"
                              @click="removerDelCarro(articulo,'restar')"></button>
                        </div>
                        <div class="border border-gray-400 rounded-full px-3 w-4/6 p-1 h-8 text-center">
                          <p>{{articulo.cantidadEnCarrito}}</p>
                        </div>
                        <div>
                          <button type="button"><img src="../home/Images/plus.png" alt="sumar_article" class="w-12"
                              @click="removerDelCarro(articulo, 'sumar')"></button>
                        </div>
                      </div>

                    </div>
                    <strong class="mr-4">Total: {{totalPorArticulo(articulo)}}</strong>
                  </article>
                </div>
              </div>
            </template>
            <template v-else>
              <div class="flex justify-center align-center">
                <strong>TODAVIA NO SE AÑADIO NADA AL CARRITO DE COMPRAS</strong>
              </div>
            </template>

          </div>


        </section>


        <section class=" flex flex-col w-2/5 h-screen bg-gray-300 p-6 grow">

          <article class="flex w-full flex-col grow">
            <h1 class="text-2xl font-semibold text-gray-600 text-center">Detalles de la compra:</h1>
            <table class="table-auto text-lg font-semibold text-gray-600">
              <thead class="h-20">
                <th>Cantidad</th>
                <th>Producto</th>
                <th>Total</th>
              </thead>
              <tbody>

                <template v-if="localStorageFiltrado.length > 0" v-for="articulo in localStorageFiltrado">
                  <tr class="border-b border-gray-400 h-20 ">
                    <td> {{articulo.cantidadEnCarrito}} </td>
                    <td> {{articulo.producto}} </td>
                    <td> {{totalPorArticulo(articulo)}} </td>
                  </tr>
                </template>
                <tr>
                  <td class="font-bold text-black text-xl">Total a Pagar:</td>
                  <td></td>
                  <td class="font-bold text-black text-xl"> {{totalCarrito}} </td>
                </tr>





              </tbody>

            </table>


          </article>
          <button class="bg-verdeClaro text-black font-bold p-2 rounded-b-lg align-self-end"
            @click="graciasPorSuCompra()">COMPRAR AHORA</button>


          <!-- <div v-if="localStorageFiltrado.length > 0" >
          <div class="w-full bg-orange-600  rounded-t-lg"></div>
          <div class="flex gap-2  m-2">
            <strong class="text-xl">TOTAL A PAGAR:</strong>
            <strong class="text-xl">{{totalCarrito}}</strong>
          </div> -->

          <!-- </div> -->

        </section>


      </main>
      <footer class="bg-azulOscuro flex justify-between font-bold text-xl p-2 text-blanco">
        <h2>Cohort N°52</h2>
        <h2>Digital Dynamos</h2>
      </footer>
    </div>
    <script src="../home/tailwind.config.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="./js/cart.js"></script>
</body>

</html>